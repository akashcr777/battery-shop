{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akash\\\\Downloads\\\\pilot-battery-shop-fullstack-mongodb\\\\pilot-battery-shop\\\\frontend\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport api from \"../utils/api\";\nimport \"./Cart.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [cart, setCart] = useState([]);\n  const [deliveryAddress, setDeliveryAddress] = useState({\n    street: \"\",\n    city: \"\",\n    state: \"\",\n    pincode: \"\"\n  });\n  const [location, setLocation] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const savedCart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\n    setCart(savedCart);\n    getLocation();\n  }, []);\n  const getLocation = () => {\n    if (!navigator.geolocation) {\n      alert(\"Location is not supported by your browser. Please enter your address manually.\");\n      return;\n    }\n    // Browsers allow geolocation only on HTTPS or http://localhost (not http://192.168.x.x)\n    const isSecureContext = window.isSecureContext || window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\";\n    if (!isSecureContext) {\n      alert(\"Location works only on https:// or http://localhost. You're using \" + window.location.origin + \". Please enter your address in the fields below.\");\n      return;\n    }\n    const options = {\n      enableHighAccuracy: false,\n      timeout: 15000,\n      maximumAge: 60000\n    };\n    navigator.geolocation.getCurrentPosition(async position => {\n      const coords = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude\n      };\n      setLocation(coords);\n      try {\n        const res = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${coords.latitude}&lon=${coords.longitude}&addressdetails=1`, {\n          headers: {\n            \"Accept-Language\": \"en\"\n          }\n        });\n        const data = await res.json();\n        const a = data.address || {};\n        setDeliveryAddress(prev => ({\n          ...prev,\n          street: [a.house_number, a.road, a.suburb].filter(Boolean).join(\", \") || prev.street,\n          city: a.city || a.town || a.village || a.county || prev.city,\n          state: a.state || prev.state,\n          pincode: a.postcode || prev.pincode\n        }));\n      } catch (e) {\n        console.error(\"Reverse geocode failed:\", e);\n      }\n    }, error => {\n      console.error(\"Error getting location:\", error);\n      let msg = \"Could not get your location. Please enter address manually.\";\n      if (error.code === 1) msg = \"Location permission denied. Please enter your address manually.\";else if (error.code === 2) msg = \"Location unavailable. Please enter your address manually.\";else if (error.code === 3) msg = \"Location request timed out. Please enter your address manually.\";\n      alert(msg);\n    }, options);\n  };\n  const updateQuantity = (productId, change) => {\n    const updatedCart = cart.map(item => {\n      if (item.productId === productId) {\n        const newQuantity = item.quantity + change;\n        if (newQuantity <= 0) return null;\n        return {\n          ...item,\n          quantity: newQuantity\n        };\n      }\n      return item;\n    }).filter(Boolean);\n    setCart(updatedCart);\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n  };\n  const removeItem = productId => {\n    const updatedCart = cart.filter(item => item.productId !== productId);\n    setCart(updatedCart);\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n  };\n  const totalAmount = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const handleCheckout = async () => {\n    var _deliveryAddress$stre, _deliveryAddress$city, _deliveryAddress$pinc;\n    if (!user) {\n      navigate(\"/login\");\n      return;\n    }\n    if (cart.length === 0) {\n      alert(\"Your cart is empty!\");\n      return;\n    }\n    const hasAddress = ((_deliveryAddress$stre = deliveryAddress.street) === null || _deliveryAddress$stre === void 0 ? void 0 : _deliveryAddress$stre.trim()) || ((_deliveryAddress$city = deliveryAddress.city) === null || _deliveryAddress$city === void 0 ? void 0 : _deliveryAddress$city.trim()) || ((_deliveryAddress$pinc = deliveryAddress.pincode) === null || _deliveryAddress$pinc === void 0 ? void 0 : _deliveryAddress$pinc.trim());\n    if (!hasAddress && !location) {\n      alert(\"Please add your delivery address or use \\\"Use my location\\\" so we can deliver to you.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      // Update user location\n      if (location) {\n        await api.put(\"/auth/location\", location);\n      }\n      const orderData = {\n        items: cart,\n        deliveryAddress,\n        deliveryLocation: location\n      };\n      const response = await api.post(\"/orders\", orderData);\n      localStorage.removeItem(\"cart\");\n      setCart([]);\n      alert(\"Order placed successfully! Order ID: \" + response.data._id);\n      navigate(\"/orders\");\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response2, _error$response2$data;\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message;\n      alert(\"Error placing order: \" + errorMessage);\n\n      // If user not found, redirect to login\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.code) === \"USER_NOT_FOUND\") {\n        localStorage.removeItem(\"token\");\n        setTimeout(() => {\n          navigate(\"/login\");\n        }, 2000);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (cart.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-cart\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/inventory\"),\n          className: \"shop-button\",\n          children: \"Continue Shopping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Shopping Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-items\",\n        children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: item.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u20B9\", item.price, \" each\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateQuantity(item.productId, -1),\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateQuantity(item.productId, 1),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"remove-btn\",\n              onClick: () => removeItem(item.productId),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-total\",\n            children: [\"\\u20B9\", item.price * item.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this)]\n        }, item.productId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"checkout-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Street Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: deliveryAddress.street,\n            onChange: e => setDeliveryAddress({\n              ...deliveryAddress,\n              street: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: deliveryAddress.city,\n            onChange: e => setDeliveryAddress({\n              ...deliveryAddress,\n              city: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"State\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: deliveryAddress.state,\n            onChange: e => setDeliveryAddress({\n              ...deliveryAddress,\n              state: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Pincode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: deliveryAddress.pincode,\n            onChange: e => setDeliveryAddress({\n              ...deliveryAddress,\n              pincode: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"location-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"use-location-btn\",\n            onClick: getLocation,\n            children: \"\\uD83D\\uDCCD Use my location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), location && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"location-status\",\n            children: \"\\uD83D\\uDCCD Location captured \\u2022 Address filled from your location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bill-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Bill Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bill-items\",\n            children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bill-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bill-item-name\",\n                children: item.productName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bill-item-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Qty: \", item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\xD7 \\u20B9\", item.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"bill-item-total\",\n                  children: [\"= \\u20B9\", item.price * item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this)]\n            }, item.productId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bill-total\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bill-total-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Subtotal:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", totalAmount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bill-total-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Delivery Charges:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u20B90\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bill-total-row final-total\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Total Amount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"\\u20B9\", totalAmount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"checkout-button\",\n          onClick: handleCheckout,\n          disabled: loading,\n          children: loading ? \"Processing...\" : \"Place Order & Generate Bill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n};\n_s(Cart, \"Hdjxv4Q6K7ZSj1P9ZuDDOWQm8OY=\", false, function () {\n  return [useNavigate];\n});\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useContext","AuthContext","api","jsxDEV","_jsxDEV","Cart","_s","user","navigate","cart","setCart","deliveryAddress","setDeliveryAddress","street","city","state","pincode","location","setLocation","loading","setLoading","savedCart","JSON","parse","localStorage","getItem","getLocation","navigator","geolocation","alert","isSecureContext","window","hostname","origin","options","enableHighAccuracy","timeout","maximumAge","getCurrentPosition","position","coords","latitude","longitude","res","fetch","headers","data","json","a","address","prev","house_number","road","suburb","filter","Boolean","join","town","village","county","postcode","e","console","error","msg","code","updateQuantity","productId","change","updatedCart","map","item","newQuantity","quantity","setItem","stringify","removeItem","totalAmount","reduce","sum","price","handleCheckout","_deliveryAddress$stre","_deliveryAddress$city","_deliveryAddress$pinc","length","hasAddress","trim","put","orderData","items","deliveryLocation","response","post","_id","_error$response","_error$response$data","_error$response2","_error$response2$data","errorMessage","message","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","productName","type","value","onChange","target","disabled","_c","$RefreshReg$"],"sources":["C:/Users/akash/Downloads/pilot-battery-shop-fullstack-mongodb/pilot-battery-shop/frontend/src/pages/Cart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport api from \"../utils/api\";\r\nimport \"./Cart.css\";\r\n\r\nconst Cart = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  const [cart, setCart] = useState([]);\r\n  const [deliveryAddress, setDeliveryAddress] = useState({\r\n    street: \"\",\r\n    city: \"\",\r\n    state: \"\",\r\n    pincode: \"\",\r\n  });\r\n  const [location, setLocation] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const savedCart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\r\n    setCart(savedCart);\r\n    getLocation();\r\n  }, []);\r\n\r\n  const getLocation = () => {\r\n    if (!navigator.geolocation) {\r\n      alert(\"Location is not supported by your browser. Please enter your address manually.\");\r\n      return;\r\n    }\r\n    // Browsers allow geolocation only on HTTPS or http://localhost (not http://192.168.x.x)\r\n    const isSecureContext = window.isSecureContext || window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\";\r\n    if (!isSecureContext) {\r\n      alert(\r\n        \"Location works only on https:// or http://localhost. You're using \" + window.location.origin + \". Please enter your address in the fields below.\"\r\n      );\r\n      return;\r\n    }\r\n    const options = { enableHighAccuracy: false, timeout: 15000, maximumAge: 60000 };\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (position) => {\r\n        const coords = {\r\n          latitude: position.coords.latitude,\r\n          longitude: position.coords.longitude,\r\n        };\r\n        setLocation(coords);\r\n        try {\r\n          const res = await fetch(\r\n            `https://nominatim.openstreetmap.org/reverse?format=json&lat=${coords.latitude}&lon=${coords.longitude}&addressdetails=1`,\r\n            { headers: { \"Accept-Language\": \"en\" } }\r\n          );\r\n          const data = await res.json();\r\n          const a = data.address || {};\r\n          setDeliveryAddress((prev) => ({\r\n            ...prev,\r\n            street: [a.house_number, a.road, a.suburb].filter(Boolean).join(\", \") || prev.street,\r\n            city: a.city || a.town || a.village || a.county || prev.city,\r\n            state: a.state || prev.state,\r\n            pincode: a.postcode || prev.pincode,\r\n          }));\r\n        } catch (e) {\r\n          console.error(\"Reverse geocode failed:\", e);\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error(\"Error getting location:\", error);\r\n        let msg = \"Could not get your location. Please enter address manually.\";\r\n        if (error.code === 1) msg = \"Location permission denied. Please enter your address manually.\";\r\n        else if (error.code === 2) msg = \"Location unavailable. Please enter your address manually.\";\r\n        else if (error.code === 3) msg = \"Location request timed out. Please enter your address manually.\";\r\n        alert(msg);\r\n      },\r\n      options\r\n    );\r\n  };\r\n\r\n  const updateQuantity = (productId, change) => {\r\n    const updatedCart = cart.map((item) => {\r\n      if (item.productId === productId) {\r\n        const newQuantity = item.quantity + change;\r\n        if (newQuantity <= 0) return null;\r\n        return { ...item, quantity: newQuantity };\r\n      }\r\n      return item;\r\n    }).filter(Boolean);\r\n\r\n    setCart(updatedCart);\r\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n  };\r\n\r\n  const removeItem = (productId) => {\r\n    const updatedCart = cart.filter((item) => item.productId !== productId);\r\n    setCart(updatedCart);\r\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n  };\r\n\r\n  const totalAmount = cart.reduce(\r\n    (sum, item) => sum + item.price * item.quantity,\r\n    0\r\n  );\r\n\r\n  const handleCheckout = async () => {\r\n    if (!user) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    if (cart.length === 0) {\r\n      alert(\"Your cart is empty!\");\r\n      return;\r\n    }\r\n\r\n    const hasAddress = deliveryAddress.street?.trim() || deliveryAddress.city?.trim() || deliveryAddress.pincode?.trim();\r\n    if (!hasAddress && !location) {\r\n      alert(\"Please add your delivery address or use \\\"Use my location\\\" so we can deliver to you.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Update user location\r\n      if (location) {\r\n        await api.put(\"/auth/location\", location);\r\n      }\r\n\r\n      const orderData = {\r\n        items: cart,\r\n        deliveryAddress,\r\n        deliveryLocation: location,\r\n      };\r\n\r\n      const response = await api.post(\"/orders\", orderData);\r\n      localStorage.removeItem(\"cart\");\r\n      setCart([]);\r\n      alert(\"Order placed successfully! Order ID: \" + response.data._id);\r\n      navigate(\"/orders\");\r\n    } catch (error) {\r\n      const errorMessage = error.response?.data?.message || error.message;\r\n      alert(\"Error placing order: \" + errorMessage);\r\n      \r\n      // If user not found, redirect to login\r\n      if (error.response?.data?.code === \"USER_NOT_FOUND\") {\r\n        localStorage.removeItem(\"token\");\r\n        setTimeout(() => {\r\n          navigate(\"/login\");\r\n        }, 2000);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (cart.length === 0) {\r\n    return (\r\n      <div className=\"cart-container\">\r\n        <div className=\"empty-cart\">\r\n          <h2>Your cart is empty</h2>\r\n          <button onClick={() => navigate(\"/inventory\")} className=\"shop-button\">\r\n            Continue Shopping\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"cart-container\">\r\n      <h1>Shopping Cart</h1>\r\n      <div className=\"cart-content\">\r\n        <div className=\"cart-items\">\r\n          {cart.map((item) => (\r\n            <div key={item.productId} className=\"cart-item\">\r\n              <div className=\"item-info\">\r\n                <h3>{item.productName}</h3>\r\n                <p>‚Çπ{item.price} each</p>\r\n              </div>\r\n              <div className=\"item-controls\">\r\n                <button onClick={() => updateQuantity(item.productId, -1)}>\r\n                  -\r\n                </button>\r\n                <span>{item.quantity}</span>\r\n                <button onClick={() => updateQuantity(item.productId, 1)}>\r\n                  +\r\n                </button>\r\n                <button\r\n                  className=\"remove-btn\"\r\n                  onClick={() => removeItem(item.productId)}\r\n                >\r\n                  Remove\r\n                </button>\r\n              </div>\r\n              <div className=\"item-total\">\r\n                ‚Çπ{item.price * item.quantity}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"checkout-section\">\r\n          <h2>Checkout</h2>\r\n          <div className=\"form-group\">\r\n            <label>Street Address</label>\r\n            <input\r\n              type=\"text\"\r\n              value={deliveryAddress.street}\r\n              onChange={(e) =>\r\n                setDeliveryAddress({ ...deliveryAddress, street: e.target.value })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>City</label>\r\n            <input\r\n              type=\"text\"\r\n              value={deliveryAddress.city}\r\n              onChange={(e) =>\r\n                setDeliveryAddress({ ...deliveryAddress, city: e.target.value })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>State</label>\r\n            <input\r\n              type=\"text\"\r\n              value={deliveryAddress.state}\r\n              onChange={(e) =>\r\n                setDeliveryAddress({ ...deliveryAddress, state: e.target.value })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Pincode</label>\r\n            <input\r\n              type=\"text\"\r\n              value={deliveryAddress.pincode}\r\n              onChange={(e) =>\r\n                setDeliveryAddress({\r\n                  ...deliveryAddress,\r\n                  pincode: e.target.value,\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"location-actions\">\r\n            <button type=\"button\" className=\"use-location-btn\" onClick={getLocation}>\r\n              üìç Use my location\r\n            </button>\r\n            {location && (\r\n              <p className=\"location-status\">üìç Location captured ‚Ä¢ Address filled from your location</p>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Bill Breakdown */}\r\n          <div className=\"bill-section\">\r\n            <h3>Bill Details</h3>\r\n            <div className=\"bill-items\">\r\n              {cart.map((item) => (\r\n                <div key={item.productId} className=\"bill-item\">\r\n                  <div className=\"bill-item-name\">{item.productName}</div>\r\n                  <div className=\"bill-item-details\">\r\n                    <span>Qty: {item.quantity}</span>\r\n                    <span>√ó ‚Çπ{item.price}</span>\r\n                    <span className=\"bill-item-total\">= ‚Çπ{item.price * item.quantity}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"bill-total\">\r\n              <div className=\"bill-total-row\">\r\n                <span>Subtotal:</span>\r\n                <span>‚Çπ{totalAmount}</span>\r\n              </div>\r\n              <div className=\"bill-total-row\">\r\n                <span>Delivery Charges:</span>\r\n                <span>‚Çπ0</span>\r\n              </div>\r\n              <div className=\"bill-total-row final-total\">\r\n                <span><strong>Total Amount:</strong></span>\r\n                <span><strong>‚Çπ{totalAmount}</strong></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            className=\"checkout-button\"\r\n            onClick={handleCheckout}\r\n            disabled={loading}\r\n          >\r\n            {loading ? \"Processing...\" : \"Place Order & Generate Bill\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}