{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import api from\"../utils/api\";import\"./Products.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Products=()=>{const{category}=useParams();const navigate=useNavigate();const[subCategory,setSubCategory]=useState(null);const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const imageMap={\"Exide Xplore 12X2.5L-C (2.5Ah)\":\"exide-2-5ah.jpg\",\"Exide Xplore 12X5L-B (5Ah)\":\"exide-5l-b.jpg\",\"Exide Xplore 12X7-B (7Ah)\":\"exide-7-b.jpg\",\"Exide Xplore 12X9-B (9Ah)\":\"exide-9-b.jpg\",\"Exide Xplore 12X14L-A2 (14Ah)\":\"exide-14l-a2.jpg\",\"Exide Xplore XLTZ4A (4Ah)\":\"exide-xltz4a.jpg\",\"Exide Xplore XLTZ5A (5Ah)\":\"exide-xltz5a.jpg\",\"Exide Xplore XLTZ6 (5Ah)\":\"exide-xltz6.jpg\",\"Exide Xplore XLTZ7 (6Ah)\":\"exide-xltz7.jpg\",\"Exide Xplore XLTZ9 (8Ah)\":\"exide-xltz9.jpg\",\"Exide Xplore XLTZ14 (12Ah)\":\"exide-xltz14.jpg\"};// --- FIXED IMAGE LOGIC FOR THREE-WHEELER ---\nconst getProductImage=function(product){let index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;// 1. If the product already has a direct URL, use it\nif(product.image&&product.image.startsWith('http'))return product.image;// 2. Logic for Two-Wheeler\nif(subCategory===\"two-wheeler\"){const fileName=imageMap[product.name];return fileName?\"/images/products/two-wheeler/\".concat(fileName):\"/images/products/two-wheeler/exide-7-b.jpg\";// default fallback\n}// 3. Logic for Three-Wheeler (MAPPING YOUR FILENAMES)\nif(subCategory===\"three-wheeler\"){// Map your specific DB names to your files t1, t2, t3\nif(product.name.includes(\"EKO32\"))return\"/images/products/three-wheeler/t1.jpg\";if(product.name.includes(\"EKO40L\"))return\"/images/products/three-wheeler/t2.jpg\";if(product.name.includes(\"EKO50L\"))return\"/images/products/three-wheeler/t3.jpg\";// Fallback if name doesn't match above\nreturn\"/images/products/three-wheeler/t1.jpg\";}// 4. Logic for Four-wheeler, Truck, Home (use index-based fallback if no imageName)\nif(subCategory===\"four-wheeler\"){const file=product.imageName||\"f\".concat(index%3+1,\".jpg\");return\"/images/products/four-wheeler/\".concat(file);}if(subCategory===\"truck\"){const file=product.imageName||\"a\".concat(index%3+1,\".jpg\");return\"/images/products/truck/\".concat(file);}if(subCategory===\"home\"){const file=product.imageName||\"h\".concat(index%3+1,\".jpg\");return\"/images/products/home/\".concat(file);}if(subCategory){const fileName=product.imageName||'default.jpg';return\"/images/products/\".concat(subCategory,\"/\").concat(fileName);}// 5. UPS category (no subCategory) - use ups folder images by index\nif(category===\"ups\"){const file=\"up\".concat(index%3+1,\".jpg\");return\"/images/products/ups/\".concat(file);}return\"/images/products/two-wheeler/exide-7-b.jpg\";};const fetchProducts=async()=>{try{setLoading(true);const response=await api.get(\"/products\",{params:{category,subCategory}});setProducts(response.data);}catch(error){console.error(\"Error fetching products:\",error);}finally{setLoading(false);}};useEffect(()=>{if(subCategory||category===\"ups\")fetchProducts();},[subCategory,category]);const handleAddToCart=product=>{const cart=JSON.parse(localStorage.getItem(\"cart\")||\"[]\");const existingItem=cart.find(item=>item.productId===product._id);if(existingItem){existingItem.quantity+=1;}else{cart.push({productId:product._id,productName:product.name,price:product.price,quantity:1});}localStorage.setItem(\"cart\",JSON.stringify(cart));alert(\"\".concat(product.name,\" added to cart!\"));};// --- Views ---\nif(category===\"ups\"&&!subCategory){return/*#__PURE__*/_jsxs(\"div\",{className:\"products-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-header\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/inventory\"),className:\"back-button\",children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"UPS\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading products...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:products.map((product,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:getProductImage(product,index),alt:product.name,className:\"product-image\",onError:e=>{e.target.onerror=null;e.target.src=\"/images/products/ups/up1.jpg\";}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-footer\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-stock\",children:[product.stock,\" in stock\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-to-cart-btn\",disabled:product.stock===0,onClick:()=>handleAddToCart(product),children:product.stock===0?\"Out of Stock\":\"Add to Cart\"})]},product._id))})]});}if(category===\"battery\"&&!subCategory){return/*#__PURE__*/_jsxs(\"div\",{className:\"products-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-header\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/inventory\"),className:\"back-button\",children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Batteries\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"subcategories-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"subcategory-card\",onClick:()=>setSubCategory(\"vehicle\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"subcategory-card-image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/products/four-wheeler/f1.jpg\",alt:\"Vehicle Batteries\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Vehicle Batteries\"}),/*#__PURE__*/_jsx(\"p\",{children:\"2W \\u2022 3W \\u2022 4W \\u2022 Truck\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"subcategory-card\",onClick:()=>setSubCategory(\"home\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"subcategory-card-image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/products/home/h1.jpg\",alt:\"Home Batteries\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Home Batteries\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Inverter & backup\"})]})]})]});}if(subCategory===\"vehicle\"){return/*#__PURE__*/_jsxs(\"div\",{className:\"products-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-header\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSubCategory(null),className:\"back-button\",children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Vehicle Batteries\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"subcategories-grid\",children:[{type:\"two-wheeler\",img:\"/images/products/two-wheeler/exide-7-b.jpg\",label:\"Two Wheeler\"},{type:\"three-wheeler\",img:\"/images/products/three-wheeler/t1.jpg\",label:\"Three Wheeler\"},{type:\"four-wheeler\",img:\"/images/products/four-wheeler/f1.jpg\",label:\"Four Wheeler\"},{type:\"truck\",img:\"/images/products/truck/a1.jpg\",label:\"Truck\"}].map(_ref=>{let{type,img,label}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"subcategory-card\",onClick:()=>setSubCategory(type),children:[/*#__PURE__*/_jsx(\"div\",{className:\"subcategory-card-image\",children:/*#__PURE__*/_jsx(\"img\",{src:img,alt:label,onError:e=>{e.target.onerror=null;e.target.src=\"/images/products/two-wheeler/exide-7-b.jpg\";}})}),/*#__PURE__*/_jsx(\"h3\",{children:label.toUpperCase()})]},type);})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"products-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-header\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSubCategory(category==='battery'?subCategory==='home'?null:'vehicle':null),className:\"back-button\",children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"h1\",{children:subCategory?subCategory.replace(\"-\",\" \").toUpperCase():\"PRODUCTS\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading products...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:products.map((product,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:getProductImage(product,index),alt:product.name,className:\"product-image\",onError:e=>{e.target.onerror=null;e.target.src=\"/images/products/two-wheeler/exide-7-b.jpg\";}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-footer\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-stock\",children:[product.stock,\" in stock\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-to-cart-btn\",disabled:product.stock===0,onClick:()=>handleAddToCart(product),children:product.stock===0?\"Out of Stock\":\"Add to Cart\"})]},product._id))})]});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","api","jsx","_jsx","jsxs","_jsxs","Products","category","navigate","subCategory","setSubCategory","products","setProducts","loading","setLoading","imageMap","getProductImage","product","index","arguments","length","undefined","image","startsWith","fileName","name","concat","includes","file","imageName","fetchProducts","response","get","params","data","error","console","handleAddToCart","cart","JSON","parse","localStorage","getItem","existingItem","find","item","productId","_id","quantity","push","productName","price","setItem","stringify","alert","className","children","onClick","map","src","alt","onError","e","target","onerror","stock","disabled","type","img","label","_ref","toUpperCase","replace"],"sources":["C:/Users/akash/Downloads/pilot-battery-shop-fullstack-mongodb/pilot-battery-shop/frontend/src/pages/Products.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport api from \"../utils/api\";\r\nimport \"./Products.css\";\r\n\r\nconst Products = () => {\r\n  const { category } = useParams();\r\n  const navigate = useNavigate();\r\n  const [subCategory, setSubCategory] = useState(null);\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const imageMap = {\r\n    \"Exide Xplore 12X2.5L-C (2.5Ah)\": \"exide-2-5ah.jpg\",\r\n    \"Exide Xplore 12X5L-B (5Ah)\": \"exide-5l-b.jpg\",\r\n    \"Exide Xplore 12X7-B (7Ah)\": \"exide-7-b.jpg\",\r\n    \"Exide Xplore 12X9-B (9Ah)\": \"exide-9-b.jpg\",\r\n    \"Exide Xplore 12X14L-A2 (14Ah)\": \"exide-14l-a2.jpg\",\r\n    \"Exide Xplore XLTZ4A (4Ah)\": \"exide-xltz4a.jpg\",\r\n    \"Exide Xplore XLTZ5A (5Ah)\": \"exide-xltz5a.jpg\",\r\n    \"Exide Xplore XLTZ6 (5Ah)\": \"exide-xltz6.jpg\",\r\n    \"Exide Xplore XLTZ7 (6Ah)\": \"exide-xltz7.jpg\",\r\n    \"Exide Xplore XLTZ9 (8Ah)\": \"exide-xltz9.jpg\",\r\n    \"Exide Xplore XLTZ14 (12Ah)\": \"exide-xltz14.jpg\"\r\n  };\r\n\r\n  // --- FIXED IMAGE LOGIC FOR THREE-WHEELER ---\r\n  const getProductImage = (product, index = 0) => {\r\n    // 1. If the product already has a direct URL, use it\r\n    if (product.image && product.image.startsWith('http')) return product.image;\r\n\r\n    // 2. Logic for Two-Wheeler\r\n    if (subCategory === \"two-wheeler\") {\r\n      const fileName = imageMap[product.name];\r\n      return fileName \r\n        ? `/images/products/two-wheeler/${fileName}` \r\n        : `/images/products/two-wheeler/exide-7-b.jpg`; // default fallback\r\n    }\r\n\r\n    // 3. Logic for Three-Wheeler (MAPPING YOUR FILENAMES)\r\n    if (subCategory === \"three-wheeler\") {\r\n      // Map your specific DB names to your files t1, t2, t3\r\n      if (product.name.includes(\"EKO32\")) return \"/images/products/three-wheeler/t1.jpg\";\r\n      if (product.name.includes(\"EKO40L\")) return \"/images/products/three-wheeler/t2.jpg\";\r\n      if (product.name.includes(\"EKO50L\")) return \"/images/products/three-wheeler/t3.jpg\";\r\n      \r\n      // Fallback if name doesn't match above\r\n      return \"/images/products/three-wheeler/t1.jpg\"; \r\n    }\r\n\r\n    // 4. Logic for Four-wheeler, Truck, Home (use index-based fallback if no imageName)\r\n    if (subCategory === \"four-wheeler\") {\r\n      const file = product.imageName || `f${(index % 3) + 1}.jpg`;\r\n      return `/images/products/four-wheeler/${file}`;\r\n    }\r\n    if (subCategory === \"truck\") {\r\n      const file = product.imageName || `a${(index % 3) + 1}.jpg`;\r\n      return `/images/products/truck/${file}`;\r\n    }\r\n    if (subCategory === \"home\") {\r\n      const file = product.imageName || `h${(index % 3) + 1}.jpg`;\r\n      return `/images/products/home/${file}`;\r\n    }\r\n    if (subCategory) {\r\n      const fileName = product.imageName || 'default.jpg';\r\n      return `/images/products/${subCategory}/${fileName}`;\r\n    }\r\n\r\n    // 5. UPS category (no subCategory) - use ups folder images by index\r\n    if (category === \"ups\") {\r\n      const file = `up${(index % 3) + 1}.jpg`;\r\n      return `/images/products/ups/${file}`;\r\n    }\r\n\r\n    return \"/images/products/two-wheeler/exide-7-b.jpg\";\r\n  };\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(\"/products\", {\r\n        params: { category, subCategory },\r\n      });\r\n      setProducts(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching products:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (subCategory || category === \"ups\") fetchProducts();\r\n  }, [subCategory, category]);\r\n\r\n  const handleAddToCart = (product) => {\r\n    const cart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\r\n    const existingItem = cart.find(item => item.productId === product._id);\r\n    if (existingItem) {\r\n      existingItem.quantity += 1;\r\n    } else {\r\n      cart.push({\r\n        productId: product._id,\r\n        productName: product.name,\r\n        price: product.price,\r\n        quantity: 1,\r\n      });\r\n    }\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    alert(`${product.name} added to cart!`);\r\n  };\r\n\r\n  // --- Views ---\r\n  if (category === \"ups\" && !subCategory) {\r\n    return (\r\n      <div className=\"products-container\">\r\n        <div className=\"products-header\">\r\n          <button onClick={() => navigate(\"/inventory\")} className=\"back-button\">← Back</button>\r\n          <h1>UPS</h1>\r\n        </div>\r\n        {loading ? (\r\n          <div className=\"loading\">Loading products...</div>\r\n        ) : (\r\n          <div className=\"products-grid\">\r\n            {products.map((product, index) => (\r\n              <div key={product._id} className=\"product-card\">\r\n                <div className=\"product-image-container\">\r\n                  <img\r\n                    src={getProductImage(product, index)}\r\n                    alt={product.name}\r\n                    className=\"product-image\"\r\n                    onError={(e) => {\r\n                      e.target.onerror = null;\r\n                      e.target.src = \"/images/products/ups/up1.jpg\";\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className=\"product-info\">\r\n                  <h3>{product.name}</h3>\r\n                  <div className=\"product-footer\">\r\n                    <p className=\"product-price\">₹{product.price}</p>\r\n                    <p className=\"product-stock\">{product.stock} in stock</p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  className=\"add-to-cart-btn\"\r\n                  disabled={product.stock === 0}\r\n                  onClick={() => handleAddToCart(product)}\r\n                >\r\n                  {product.stock === 0 ? \"Out of Stock\" : \"Add to Cart\"}\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (category === \"battery\" && !subCategory) {\r\n    return (\r\n      <div className=\"products-container\">\r\n        <div className=\"products-header\">\r\n          <button onClick={() => navigate(\"/inventory\")} className=\"back-button\">← Back</button>\r\n          <h1>Batteries</h1>\r\n        </div>\r\n        <div className=\"subcategories-grid\">\r\n          <div className=\"subcategory-card\" onClick={() => setSubCategory(\"vehicle\")}>\r\n            <div className=\"subcategory-card-image\">\r\n              <img src=\"/images/products/four-wheeler/f1.jpg\" alt=\"Vehicle Batteries\" />\r\n            </div>\r\n            <h3>Vehicle Batteries</h3>\r\n            <p>2W • 3W • 4W • Truck</p>\r\n          </div>\r\n          <div className=\"subcategory-card\" onClick={() => setSubCategory(\"home\")}>\r\n            <div className=\"subcategory-card-image\">\r\n              <img src=\"/images/products/home/h1.jpg\" alt=\"Home Batteries\" />\r\n            </div>\r\n            <h3>Home Batteries</h3>\r\n            <p>Inverter & backup</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (subCategory === \"vehicle\") {\r\n    return (\r\n      <div className=\"products-container\">\r\n        <div className=\"products-header\">\r\n          <button onClick={() => setSubCategory(null)} className=\"back-button\">← Back</button>\r\n          <h1>Vehicle Batteries</h1>\r\n        </div>\r\n        <div className=\"subcategories-grid\">\r\n          {[\r\n            { type: \"two-wheeler\", img: \"/images/products/two-wheeler/exide-7-b.jpg\", label: \"Two Wheeler\" },\r\n            { type: \"three-wheeler\", img: \"/images/products/three-wheeler/t1.jpg\", label: \"Three Wheeler\" },\r\n            { type: \"four-wheeler\", img: \"/images/products/four-wheeler/f1.jpg\", label: \"Four Wheeler\" },\r\n            { type: \"truck\", img: \"/images/products/truck/a1.jpg\", label: \"Truck\" },\r\n          ].map(({ type, img, label }) => (\r\n            <div key={type} className=\"subcategory-card\" onClick={() => setSubCategory(type)}>\r\n              <div className=\"subcategory-card-image\">\r\n                <img src={img} alt={label} onError={(e) => { e.target.onerror = null; e.target.src = \"/images/products/two-wheeler/exide-7-b.jpg\"; }} />\r\n              </div>\r\n              <h3>{label.toUpperCase()}</h3>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"products-container\">\r\n      <div className=\"products-header\">\r\n        <button \r\n          onClick={() => setSubCategory(category === 'battery' ? (subCategory === 'home' ? null : 'vehicle') : null)} \r\n          className=\"back-button\"\r\n        >\r\n          ← Back\r\n        </button>\r\n        <h1>{subCategory ? subCategory.replace(\"-\", \" \").toUpperCase() : \"PRODUCTS\"}</h1>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"loading\">Loading products...</div>\r\n      ) : (\r\n        <div className=\"products-grid\">\r\n          {products.map((product, index) => (\r\n            <div key={product._id} className=\"product-card\">\r\n              <div className=\"product-image-container\">\r\n                <img \r\n                  src={getProductImage(product, index)} \r\n                  alt={product.name}\r\n                  className=\"product-image\"\r\n                  onError={(e) => {\r\n                    e.target.onerror = null;\r\n                    e.target.src = \"/images/products/two-wheeler/exide-7-b.jpg\";\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"product-info\">\r\n                <h3>{product.name}</h3>\r\n                <div className=\"product-footer\">\r\n                  <p className=\"product-price\">₹{product.price}</p>\r\n                  <p className=\"product-stock\">{product.stock} in stock</p>\r\n                </div>\r\n              </div>\r\n              <button \r\n                className=\"add-to-cart-btn\" \r\n                disabled={product.stock === 0}\r\n                onClick={() => handleAddToCart(product)}\r\n              >\r\n                {product.stock === 0 ? \"Out of Stock\" : \"Add to Cart\"}\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}