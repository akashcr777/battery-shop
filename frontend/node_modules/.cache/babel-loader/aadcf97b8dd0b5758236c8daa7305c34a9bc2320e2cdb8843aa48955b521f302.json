{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useContext}from\"react\";import{AuthContext}from\"../context/AuthContext\";import api from\"../utils/api\";import\"./Admin.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Admin=()=>{const{user,logout}=useContext(AuthContext);const navigate=useNavigate();const[activeTab,setActiveTab]=useState(\"orders\");const[orders,setOrders]=useState([]);const[users,setUsers]=useState([]);const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[selectedOrder,setSelectedOrder]=useState(null);const[selectedUser,setSelectedUser]=useState(null);const[userPurchases,setUserPurchases]=useState([]);const[statusFilter,setStatusFilter]=useState(\"all\");useEffect(()=>{if(!user||user.role!==\"admin\"){navigate(\"/admin-login\");return;}fetchData();const interval=setInterval(fetchData,5000);// Refresh every 5 seconds\nreturn()=>clearInterval(interval);},[user,navigate,statusFilter]);const fetchData=async()=>{try{if(activeTab===\"orders\"){const params=statusFilter!==\"all\"?{status:statusFilter}:{};const response=await api.get(\"/admin/orders\",{params});setOrders(response.data);}else if(activeTab===\"users\"){const response=await api.get(\"/admin/users\");setUsers(response.data);}else if(activeTab===\"stats\"){const response=await api.get(\"/admin/stats\");setStats(response.data);}}catch(error){var _error$response;console.error(\"Error fetching data:\",error);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===403){logout();navigate(\"/admin-login\");}}finally{setLoading(false);}};useEffect(()=>{fetchData();},[activeTab,statusFilter]);const fetchUserPurchases=async userId=>{try{const response=await api.get(\"/admin/users/\".concat(userId,\"/purchases\"));setUserPurchases(response.data);setSelectedUser(userId);}catch(error){console.error(\"Error fetching user purchases:\",error);}};const updateOrderStatus=async(orderId,status)=>{try{await api.put(\"/orders/\".concat(orderId,\"/status\"),{status});fetchData();setSelectedOrder(null);alert(\"Order status updated to: \".concat(status.replace(\"-\",\" \")));}catch(error){var _error$response2,_error$response2$data;alert(\"Error updating order status: \"+(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message));}};const updateDriverLocation=async orderId=>{if(!navigator.geolocation){alert(\"Location is not supported by your browser.\");return;}const isSecureContext=window.isSecureContext||window.location.hostname===\"localhost\"||window.location.hostname===\"127.0.0.1\";if(!isSecureContext){alert(\"Location works only on https:// or http://localhost. You're using \"+window.location.origin+\". Use the site at http://localhost:3000/admin or enable HTTPS.\");return;}const options={enableHighAccuracy:false,timeout:15000,maximumAge:60000};navigator.geolocation.getCurrentPosition(async position=>{try{await api.put(\"/orders/\".concat(orderId,\"/location\"),{latitude:position.coords.latitude,longitude:position.coords.longitude});fetchData();alert(\"Driver location updated. Customer can see it in real-time.\");}catch(error){var _error$response3,_error$response3$data,_error$response4;const msg=((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||error.message;const status=(_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status;if(status===404){alert(\"404 Not found. Make sure the backend server is running and restarted (so it has the location route). Error: \"+msg);}else{alert(\"Error: \"+msg);}}},err=>{let msg=\"Could not get your location.\";if(err.code===1)msg=\"Location permission denied. Allow location for this site and try again.\";else if(err.code===2)msg=\"Location unavailable.\";else if(err.code===3)msg=\"Location request timed out.\";alert(msg);},options);};const getStatusColor=status=>{const colors={pending:\"#ffc107\",accepted:\"#17a2b8\",\"ready-to-deliver\":\"#28a745\",\"out-for-delivery\":\"#007bff\",delivered:\"#6c757d\",cancelled:\"#dc3545\"};return colors[status]||\"#666\";};const getStatusText=status=>{const statusMessages={pending:\"Pending\",accepted:\"Order Processing\",\"ready-to-deliver\":\"Ready to Deliver\",\"out-for-delivery\":\"Out for Delivery\",delivered:\"Delivered Successfully\",cancelled:\"Cancelled\"};return statusMessages[status]||status.split(\"-\").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(\" \");};if(loading&&!stats){return/*#__PURE__*/_jsx(\"div\",{className:\"admin-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDD10 Admin Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{logout();navigate(\"/\");},className:\"logout-btn\",children:\"Logout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:activeTab===\"orders\"?\"active\":\"\",onClick:()=>setActiveTab(\"orders\"),children:\"\\uD83D\\uDCE6 Orders\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab===\"users\"?\"active\":\"\",onClick:()=>setActiveTab(\"users\"),children:\"\\uD83D\\uDC65 Users\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab===\"stats\"?\"active\":\"\",onClick:()=>setActiveTab(\"stats\"),children:\"\\uD83D\\uDCCA Statistics\"})]}),activeTab===\"orders\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Filter by Status:\"}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"status-filter\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Orders\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"accepted\",children:\"Order Processing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"out-for-delivery\",children:\"Out for Delivery\"}),/*#__PURE__*/_jsx(\"option\",{value:\"delivered\",children:\"Delivered Successfully\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelled\",children:\"Cancelled\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orders-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Orders\"}),/*#__PURE__*/_jsx(\"p\",{children:orders.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{children:orders.filter(o=>o.status===\"pending\").length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Processing\"}),/*#__PURE__*/_jsx(\"p\",{children:orders.filter(o=>o.status===\"accepted\").length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Out for Delivery\"}),/*#__PURE__*/_jsx(\"p\",{children:orders.filter(o=>o.status===\"out-for-delivery\").length})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"orders-list\",children:orders.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No orders found\"}):orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Order #\",order._id.slice(-6).toUpperCase()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"order-customer\",children:[\"Customer: \",order.customerName,\" | \",order.customerPhone,\" | \",order.customerEmail]}),/*#__PURE__*/_jsxs(\"p\",{className:\"order-date\",children:[\"Ordered: \",new Date(order.createdAt).toLocaleString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-status\",style:{backgroundColor:getStatusColor(order.status)},children:getStatusText(order.status)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-items\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Purchased Products:\"}),order.items.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.productName}),/*#__PURE__*/_jsxs(\"span\",{children:[item.quantity,\" x \\u20B9\",item.price,\" = \\u20B9\",item.quantity*item.price]})]},index))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-footer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-total\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total: \\u20B9\",order.totalAmount]})}),order.deliveryAddress&&/*#__PURE__*/_jsxs(\"div\",{className:\"order-address\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Delivery Address:\"}),\" \",Object.values(order.deliveryAddress).filter(Boolean).join(\", \")]}),order.deliveryLocation&&/*#__PURE__*/_jsxs(\"div\",{className:\"order-location\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.google.com/maps?q=\".concat(order.deliveryLocation.latitude,\",\").concat(order.deliveryLocation.longitude),target:\"_blank\",rel:\"noopener noreferrer\",children:\"View on Map\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-actions\",children:[order.status===\"pending\"&&/*#__PURE__*/_jsx(\"button\",{className:\"status-button processing-btn\",onClick:()=>updateOrderStatus(order._id,\"accepted\"),children:\"\\u2699\\uFE0F Order Processing\"}),order.status===\"accepted\"&&/*#__PURE__*/_jsx(\"button\",{className:\"status-button delivery-btn\",onClick:()=>updateOrderStatus(order._id,\"out-for-delivery\"),children:\"\\uD83D\\uDE9A Order Out for Delivery\"}),order.status===\"out-for-delivery\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"status-button location-btn\",onClick:()=>updateDriverLocation(order._id),title:\"Update driver's current location (customer sees live)\",children:\"\\uD83D\\uDCCD Update driver location\"}),/*#__PURE__*/_jsx(\"button\",{className:\"status-button delivered-btn\",onClick:()=>updateOrderStatus(order._id,\"delivered\"),children:\"\\u2705 Accept Delivery Successfully\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"view-button\",onClick:()=>setSelectedOrder(order),children:\"View Details\"})]}),order.status===\"out-for-delivery\"&&order.currentDeliveryLocation&&/*#__PURE__*/_jsxs(\"div\",{className:\"order-tracking-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Driver last location:\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.google.com/maps?q=\".concat(order.currentDeliveryLocation.latitude,\",\").concat(order.currentDeliveryLocation.longitude),target:\"_blank\",rel:\"noopener noreferrer\",children:\"View on map\"}),order.currentDeliveryLocation.updatedAt&&/*#__PURE__*/_jsxs(\"span\",{className:\"tracking-time\",children:[\" \",\"(updated \",new Date(order.currentDeliveryLocation.updatedAt).toLocaleTimeString(),\")\"]})]})]},order._id))})]}),activeTab===\"users\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"users-list\",children:users.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No users found\"}):users.map(user=>/*#__PURE__*/_jsxs(\"div\",{className:\"user-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:user.name}),/*#__PURE__*/_jsx(\"p\",{className:\"user-email\",children:user.email}),/*#__PURE__*/_jsx(\"p\",{className:\"user-phone\",children:user.phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-stat-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Orders:\"}),\" \",user.orderCount]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-stat-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Spent:\"}),\" \\u20B9\",user.totalSpent]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Registered:\"}),\" \",new Date(user.createdAt).toLocaleString()]}),user.address&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address:\"}),\" \",Object.values(user.address).filter(Boolean).join(\", \")||\"Not provided\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"view-purchases-btn\",onClick:()=>fetchUserPurchases(user._id),children:\"View Purchase History\"})]},user._id))}),selectedUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>{setSelectedUser(null);setUserPurchases([]);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content large-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Purchase History\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:()=>{setSelectedUser(null);setUserPurchases([]);},children:\"\\u2715\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:userPurchases.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No purchases found\"}):userPurchases.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:\"purchase-item\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Order #\",order._id.slice(-6).toUpperCase()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(order.createdAt).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",getStatusText(order.status)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total:\"}),\" \\u20B9\",order.totalAmount]}),/*#__PURE__*/_jsx(\"div\",{className:\"purchase-items\",children:order.items.map((item,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"purchase-item-detail\",children:[item.productName,\" - Qty: \",item.quantity,\" \\xD7 \\u20B9\",item.price]},idx))})]},order._id))})]})})]}),activeTab===\"stats\"&&stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card-large\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:stats.totalUsers})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card-large\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:stats.totalOrders})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card-large\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Revenue\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"stat-number\",children:[\"\\u20B9\",stats.totalRevenue.toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-breakdown\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Orders by Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pending:\"}),/*#__PURE__*/_jsx(\"strong\",{children:stats.ordersByStatus.pending})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Order Processing:\"}),/*#__PURE__*/_jsx(\"strong\",{children:stats.ordersByStatus.accepted})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Out for Delivery:\"}),/*#__PURE__*/_jsx(\"strong\",{children:stats.ordersByStatus[\"out-for-delivery\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Delivered Successfully:\"}),/*#__PURE__*/_jsx(\"strong\",{children:stats.ordersByStatus.delivered})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Cancelled:\"}),/*#__PURE__*/_jsx(\"strong\",{children:stats.ordersByStatus.cancelled})]})]})]})]}),selectedOrder&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setSelectedOrder(null),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Order Details\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:()=>setSelectedOrder(null),children:\"\\u2715\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Order ID:\"}),\" \",selectedOrder._id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Customer:\"}),\" \",selectedOrder.customerName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",selectedOrder.customerPhone]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",selectedOrder.customerEmail]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",getStatusText(selectedOrder.status)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total:\"}),\" \\u20B9\",selectedOrder.totalAmount]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Order Date:\"}),\" \",new Date(selectedOrder.createdAt).toLocaleString()]}),selectedOrder.deliveryLocation&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.google.com/maps?q=\".concat(selectedOrder.deliveryLocation.latitude,\",\").concat(selectedOrder.deliveryLocation.longitude),target:\"_blank\",rel:\"noopener noreferrer\",children:\"Open in Google Maps\"})]})]})]})})]});};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useContext","AuthContext","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Admin","user","logout","navigate","activeTab","setActiveTab","orders","setOrders","users","setUsers","stats","setStats","loading","setLoading","selectedOrder","setSelectedOrder","selectedUser","setSelectedUser","userPurchases","setUserPurchases","statusFilter","setStatusFilter","role","fetchData","interval","setInterval","clearInterval","params","status","response","get","data","error","_error$response","console","fetchUserPurchases","userId","concat","updateOrderStatus","orderId","put","alert","replace","_error$response2","_error$response2$data","message","updateDriverLocation","navigator","geolocation","isSecureContext","window","location","hostname","origin","options","enableHighAccuracy","timeout","maximumAge","getCurrentPosition","position","latitude","coords","longitude","_error$response3","_error$response3$data","_error$response4","msg","err","code","getStatusColor","colors","pending","accepted","delivered","cancelled","getStatusText","statusMessages","split","map","w","charAt","toUpperCase","slice","join","className","children","onClick","value","onChange","e","target","length","filter","o","order","_id","customerName","customerPhone","customerEmail","Date","createdAt","toLocaleString","style","backgroundColor","items","item","index","productName","quantity","price","totalAmount","deliveryAddress","Object","values","Boolean","deliveryLocation","href","rel","title","currentDeliveryLocation","updatedAt","toLocaleTimeString","name","email","phone","orderCount","totalSpent","address","stopPropagation","idx","totalUsers","totalOrders","totalRevenue","ordersByStatus"],"sources":["C:/Users/akash/Downloads/pilot-battery-shop-fullstack-mongodb/pilot-battery-shop/frontend/src/pages/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport api from \"../utils/api\";\r\nimport \"./Admin.css\";\r\n\r\nconst Admin = () => {\r\n  const { user, logout } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState(\"orders\");\r\n  const [orders, setOrders] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedOrder, setSelectedOrder] = useState(null);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [userPurchases, setUserPurchases] = useState([]);\r\n  const [statusFilter, setStatusFilter] = useState(\"all\");\r\n\r\n  useEffect(() => {\r\n    if (!user || user.role !== \"admin\") {\r\n      navigate(\"/admin-login\");\r\n      return;\r\n    }\r\n    fetchData();\r\n    const interval = setInterval(fetchData, 5000); // Refresh every 5 seconds\r\n    return () => clearInterval(interval);\r\n  }, [user, navigate, statusFilter]);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      if (activeTab === \"orders\") {\r\n        const params = statusFilter !== \"all\" ? { status: statusFilter } : {};\r\n        const response = await api.get(\"/admin/orders\", { params });\r\n        setOrders(response.data);\r\n      } else if (activeTab === \"users\") {\r\n        const response = await api.get(\"/admin/users\");\r\n        setUsers(response.data);\r\n      } else if (activeTab === \"stats\") {\r\n        const response = await api.get(\"/admin/stats\");\r\n        setStats(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n      if (error.response?.status === 403) {\r\n        logout();\r\n        navigate(\"/admin-login\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [activeTab, statusFilter]);\r\n\r\n  const fetchUserPurchases = async (userId) => {\r\n    try {\r\n      const response = await api.get(`/admin/users/${userId}/purchases`);\r\n      setUserPurchases(response.data);\r\n      setSelectedUser(userId);\r\n    } catch (error) {\r\n      console.error(\"Error fetching user purchases:\", error);\r\n    }\r\n  };\r\n\r\n  const updateOrderStatus = async (orderId, status) => {\r\n    try {\r\n      await api.put(`/orders/${orderId}/status`, { status });\r\n      fetchData();\r\n      setSelectedOrder(null);\r\n      alert(`Order status updated to: ${status.replace(\"-\", \" \")}`);\r\n    } catch (error) {\r\n      alert(\"Error updating order status: \" + (error.response?.data?.message || error.message));\r\n    }\r\n  };\r\n\r\n  const updateDriverLocation = async (orderId) => {\r\n    if (!navigator.geolocation) {\r\n      alert(\"Location is not supported by your browser.\");\r\n      return;\r\n    }\r\n    const isSecureContext = window.isSecureContext || window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\";\r\n    if (!isSecureContext) {\r\n      alert(\"Location works only on https:// or http://localhost. You're using \" + window.location.origin + \". Use the site at http://localhost:3000/admin or enable HTTPS.\");\r\n      return;\r\n    }\r\n    const options = { enableHighAccuracy: false, timeout: 15000, maximumAge: 60000 };\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (position) => {\r\n        try {\r\n          await api.put(`/orders/${orderId}/location`, {\r\n            latitude: position.coords.latitude,\r\n            longitude: position.coords.longitude,\r\n          });\r\n          fetchData();\r\n          alert(\"Driver location updated. Customer can see it in real-time.\");\r\n        } catch (error) {\r\n          const msg = error.response?.data?.message || error.message;\r\n          const status = error.response?.status;\r\n          if (status === 404) {\r\n            alert(\"404 Not found. Make sure the backend server is running and restarted (so it has the location route). Error: \" + msg);\r\n          } else {\r\n            alert(\"Error: \" + msg);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        let msg = \"Could not get your location.\";\r\n        if (err.code === 1) msg = \"Location permission denied. Allow location for this site and try again.\";\r\n        else if (err.code === 2) msg = \"Location unavailable.\";\r\n        else if (err.code === 3) msg = \"Location request timed out.\";\r\n        alert(msg);\r\n      },\r\n      options\r\n    );\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      pending: \"#ffc107\",\r\n      accepted: \"#17a2b8\",\r\n      \"ready-to-deliver\": \"#28a745\",\r\n      \"out-for-delivery\": \"#007bff\",\r\n      delivered: \"#6c757d\",\r\n      cancelled: \"#dc3545\",\r\n    };\r\n    return colors[status] || \"#666\";\r\n  };\r\n\r\n  const getStatusText = (status) => {\r\n    const statusMessages = {\r\n      pending: \"Pending\",\r\n      accepted: \"Order Processing\",\r\n      \"ready-to-deliver\": \"Ready to Deliver\",\r\n      \"out-for-delivery\": \"Out for Delivery\",\r\n      delivered: \"Delivered Successfully\",\r\n      cancelled: \"Cancelled\",\r\n    };\r\n    return statusMessages[status] || status\r\n      .split(\"-\")\r\n      .map((w) => w.charAt(0).toUpperCase() + w.slice(1))\r\n      .join(\" \");\r\n  };\r\n\r\n  if (loading && !stats) {\r\n    return (\r\n      <div className=\"admin-container\">\r\n        <div className=\"loading\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-container\">\r\n      <div className=\"admin-header\">\r\n        <h1>üîê Admin Dashboard</h1>\r\n        <button onClick={() => { logout(); navigate(\"/\"); }} className=\"logout-btn\">\r\n          Logout\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"admin-tabs\">\r\n        <button\r\n          className={activeTab === \"orders\" ? \"active\" : \"\"}\r\n          onClick={() => setActiveTab(\"orders\")}\r\n        >\r\n          üì¶ Orders\r\n        </button>\r\n        <button\r\n          className={activeTab === \"users\" ? \"active\" : \"\"}\r\n          onClick={() => setActiveTab(\"users\")}\r\n        >\r\n          üë• Users\r\n        </button>\r\n        <button\r\n          className={activeTab === \"stats\" ? \"active\" : \"\"}\r\n          onClick={() => setActiveTab(\"stats\")}\r\n        >\r\n          üìä Statistics\r\n        </button>\r\n      </div>\r\n\r\n      {/* Orders Tab */}\r\n      {activeTab === \"orders\" && (\r\n        <div>\r\n          <div className=\"filter-section\">\r\n            <label>Filter by Status:</label>\r\n            <select\r\n              value={statusFilter}\r\n              onChange={(e) => setStatusFilter(e.target.value)}\r\n              className=\"status-filter\"\r\n            >\r\n              <option value=\"all\">All Orders</option>\r\n              <option value=\"pending\">Pending</option>\r\n              <option value=\"accepted\">Order Processing</option>\r\n              <option value=\"out-for-delivery\">Out for Delivery</option>\r\n              <option value=\"delivered\">Delivered Successfully</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"orders-stats\">\r\n            <div className=\"stat-card\">\r\n              <h3>Total Orders</h3>\r\n              <p>{orders.length}</p>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <h3>Pending</h3>\r\n              <p>{orders.filter((o) => o.status === \"pending\").length}</p>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <h3>Processing</h3>\r\n              <p>{orders.filter((o) => o.status === \"accepted\").length}</p>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <h3>Out for Delivery</h3>\r\n              <p>{orders.filter((o) => o.status === \"out-for-delivery\").length}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"orders-list\">\r\n            {orders.length === 0 ? (\r\n              <div className=\"no-data\">No orders found</div>\r\n            ) : (\r\n              orders.map((order) => (\r\n                <div key={order._id} className=\"order-card\">\r\n                  <div className=\"order-header\">\r\n                    <div>\r\n                      <h3>Order #{order._id.slice(-6).toUpperCase()}</h3>\r\n                      <p className=\"order-customer\">\r\n                        Customer: {order.customerName} | {order.customerPhone} | {order.customerEmail}\r\n                      </p>\r\n                      <p className=\"order-date\">\r\n                        Ordered: {new Date(order.createdAt).toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                    <div\r\n                      className=\"order-status\"\r\n                      style={{ backgroundColor: getStatusColor(order.status) }}\r\n                    >\r\n                      {getStatusText(order.status)}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"order-items\">\r\n                    <h4>Purchased Products:</h4>\r\n                    {order.items.map((item, index) => (\r\n                      <div key={index} className=\"order-item\">\r\n                        <span>{item.productName}</span>\r\n                        <span>\r\n                          {item.quantity} x ‚Çπ{item.price} = ‚Çπ\r\n                          {item.quantity * item.price}\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div className=\"order-footer\">\r\n                    <div className=\"order-total\">\r\n                      <strong>Total: ‚Çπ{order.totalAmount}</strong>\r\n                    </div>\r\n                    {order.deliveryAddress && (\r\n                      <div className=\"order-address\">\r\n                        <strong>Delivery Address:</strong>{\" \"}\r\n                        {Object.values(order.deliveryAddress).filter(Boolean).join(\", \")}\r\n                      </div>\r\n                    )}\r\n                    {order.deliveryLocation && (\r\n                      <div className=\"order-location\">\r\n                        <strong>Location:</strong>{\" \"}\r\n                        <a\r\n                          href={`https://www.google.com/maps?q=${order.deliveryLocation.latitude},${order.deliveryLocation.longitude}`}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                        >\r\n                          View on Map\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"order-actions\">\r\n                    {order.status === \"pending\" && (\r\n                      <button\r\n                        className=\"status-button processing-btn\"\r\n                        onClick={() => updateOrderStatus(order._id, \"accepted\")}\r\n                      >\r\n                        ‚öôÔ∏è Order Processing\r\n                      </button>\r\n                    )}\r\n                    {order.status === \"accepted\" && (\r\n                      <button\r\n                        className=\"status-button delivery-btn\"\r\n                        onClick={() => updateOrderStatus(order._id, \"out-for-delivery\")}\r\n                      >\r\n                        üöö Order Out for Delivery\r\n                      </button>\r\n                    )}\r\n                    {order.status === \"out-for-delivery\" && (\r\n                      <>\r\n                        <button\r\n                          className=\"status-button location-btn\"\r\n                          onClick={() => updateDriverLocation(order._id)}\r\n                          title=\"Update driver's current location (customer sees live)\"\r\n                        >\r\n                          üìç Update driver location\r\n                        </button>\r\n                        <button\r\n                          className=\"status-button delivered-btn\"\r\n                          onClick={() => updateOrderStatus(order._id, \"delivered\")}\r\n                        >\r\n                          ‚úÖ Accept Delivery Successfully\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                    <button\r\n                      className=\"view-button\"\r\n                      onClick={() => setSelectedOrder(order)}\r\n                    >\r\n                      View Details\r\n                    </button>\r\n                  </div>\r\n                  {order.status === \"out-for-delivery\" && order.currentDeliveryLocation && (\r\n                    <div className=\"order-tracking-info\">\r\n                      <strong>Driver last location:</strong>{\" \"}\r\n                      <a\r\n                        href={`https://www.google.com/maps?q=${order.currentDeliveryLocation.latitude},${order.currentDeliveryLocation.longitude}`}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                      >\r\n                        View on map\r\n                      </a>\r\n                      {order.currentDeliveryLocation.updatedAt && (\r\n                        <span className=\"tracking-time\">\r\n                          {\" \"}(updated {new Date(order.currentDeliveryLocation.updatedAt).toLocaleTimeString()})\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Users Tab */}\r\n      {activeTab === \"users\" && (\r\n        <div>\r\n          <div className=\"users-list\">\r\n            {users.length === 0 ? (\r\n              <div className=\"no-data\">No users found</div>\r\n            ) : (\r\n              users.map((user) => (\r\n                <div key={user._id} className=\"user-card\">\r\n                  <div className=\"user-header\">\r\n                    <div>\r\n                      <h3>{user.name}</h3>\r\n                      <p className=\"user-email\">{user.email}</p>\r\n                      <p className=\"user-phone\">{user.phone}</p>\r\n                    </div>\r\n                    <div className=\"user-stats\">\r\n                      <div className=\"user-stat-item\">\r\n                        <strong>Orders:</strong> {user.orderCount}\r\n                      </div>\r\n                      <div className=\"user-stat-item\">\r\n                        <strong>Total Spent:</strong> ‚Çπ{user.totalSpent}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"user-info\">\r\n                    <p>\r\n                      <strong>Registered:</strong>{\" \"}\r\n                      {new Date(user.createdAt).toLocaleString()}\r\n                    </p>\r\n                    {user.address && (\r\n                      <p>\r\n                        <strong>Address:</strong>{\" \"}\r\n                        {Object.values(user.address).filter(Boolean).join(\", \") || \"Not provided\"}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  <button\r\n                    className=\"view-purchases-btn\"\r\n                    onClick={() => fetchUserPurchases(user._id)}\r\n                  >\r\n                    View Purchase History\r\n                  </button>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          {/* User Purchases Modal */}\r\n          {selectedUser && (\r\n            <div className=\"modal-overlay\" onClick={() => { setSelectedUser(null); setUserPurchases([]); }}>\r\n              <div className=\"modal-content large-modal\" onClick={(e) => e.stopPropagation()}>\r\n                <h2>User Purchase History</h2>\r\n                <button className=\"close-button\" onClick={() => { setSelectedUser(null); setUserPurchases([]); }}>\r\n                  ‚úï\r\n                </button>\r\n                <div className=\"modal-body\">\r\n                  {userPurchases.length === 0 ? (\r\n                    <p>No purchases found</p>\r\n                  ) : (\r\n                    userPurchases.map((order) => (\r\n                      <div key={order._id} className=\"purchase-item\">\r\n                        <h4>Order #{order._id.slice(-6).toUpperCase()}</h4>\r\n                        <p><strong>Date:</strong> {new Date(order.createdAt).toLocaleString()}</p>\r\n                        <p><strong>Status:</strong> {getStatusText(order.status)}</p>\r\n                        <p><strong>Total:</strong> ‚Çπ{order.totalAmount}</p>\r\n                        <div className=\"purchase-items\">\r\n                          {order.items.map((item, idx) => (\r\n                            <div key={idx} className=\"purchase-item-detail\">\r\n                              {item.productName} - Qty: {item.quantity} √ó ‚Çπ{item.price}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Statistics Tab */}\r\n      {activeTab === \"stats\" && stats && (\r\n        <div className=\"stats-container\">\r\n          <div className=\"stats-grid\">\r\n            <div className=\"stat-card-large\">\r\n              <h2>Total Users</h2>\r\n              <p className=\"stat-number\">{stats.totalUsers}</p>\r\n            </div>\r\n            <div className=\"stat-card-large\">\r\n              <h2>Total Orders</h2>\r\n              <p className=\"stat-number\">{stats.totalOrders}</p>\r\n            </div>\r\n            <div className=\"stat-card-large\">\r\n              <h2>Total Revenue</h2>\r\n              <p className=\"stat-number\">‚Çπ{stats.totalRevenue.toLocaleString()}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"status-breakdown\">\r\n            <h3>Orders by Status</h3>\r\n            <div className=\"status-list\">\r\n              <div className=\"status-item\">\r\n                <span>Pending:</span>\r\n                <strong>{stats.ordersByStatus.pending}</strong>\r\n              </div>\r\n              <div className=\"status-item\">\r\n                <span>Order Processing:</span>\r\n                <strong>{stats.ordersByStatus.accepted}</strong>\r\n              </div>\r\n              <div className=\"status-item\">\r\n                <span>Out for Delivery:</span>\r\n                <strong>{stats.ordersByStatus[\"out-for-delivery\"]}</strong>\r\n              </div>\r\n              <div className=\"status-item\">\r\n                <span>Delivered Successfully:</span>\r\n                <strong>{stats.ordersByStatus.delivered}</strong>\r\n              </div>\r\n              <div className=\"status-item\">\r\n                <span>Cancelled:</span>\r\n                <strong>{stats.ordersByStatus.cancelled}</strong>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Order Details Modal */}\r\n      {selectedOrder && (\r\n        <div className=\"modal-overlay\" onClick={() => setSelectedOrder(null)}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <h2>Order Details</h2>\r\n            <button className=\"close-button\" onClick={() => setSelectedOrder(null)}>\r\n              ‚úï\r\n            </button>\r\n            <div className=\"modal-body\">\r\n              <p><strong>Order ID:</strong> {selectedOrder._id}</p>\r\n              <p><strong>Customer:</strong> {selectedOrder.customerName}</p>\r\n              <p><strong>Phone:</strong> {selectedOrder.customerPhone}</p>\r\n              <p><strong>Email:</strong> {selectedOrder.customerEmail}</p>\r\n              <p><strong>Status:</strong> {getStatusText(selectedOrder.status)}</p>\r\n              <p><strong>Total:</strong> ‚Çπ{selectedOrder.totalAmount}</p>\r\n              <p><strong>Order Date:</strong> {new Date(selectedOrder.createdAt).toLocaleString()}</p>\r\n              {selectedOrder.deliveryLocation && (\r\n                <p>\r\n                  <strong>Location:</strong>{\" \"}\r\n                  <a\r\n                    href={`https://www.google.com/maps?q=${selectedOrder.deliveryLocation.latitude},${selectedOrder.deliveryLocation.longitude}`}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    Open in Google Maps\r\n                  </a>\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}